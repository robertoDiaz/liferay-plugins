YUI.add("aui-image-filter-adjust",function(e,t){var n=e.Lang,r="image-adjust-filter",i="adjustFilter",s=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],o="brightness",u="contrast",a="matrix",f="saturation",l=e.Base.create(r,e.ImageColorFilter,[],{initializer:function(){var t=this;e.Do.before(t._beforeProcess,t,"process",t),t.set("label",t.get("mode")),t.after(["brightnessChange","contrastChange","saturationChange"],t._calculateColorMatrix,t)},_beforeProcess:function(e,t){var n=this,r;r=n.get("mode"),r===o?n.set(o,(t-50)/50):r===u?n.set(u,t/50):r===f&&n.set(f,t/50)},_calculateColorMatrix:function(){var e=this,t,n,r,i,l,c,h,p;r=s.slice(0),t=e.get(o)*255,n=e.get(u),p=(1-n)/2*255,i=e.get(f),h=(1-i)*.3086,c=(1-i)*.6094,l=(1-i)*.082,r[0]=n*(h+i),r[1]=n*c,r[2]=n*l,r[4]=t+p,r[5]=n*h,r[6]=n*(c+i),r[7]=n*l,r[9]=t+p,r[10]=n*h,r[11]=n*c,r[12]=n*(l+i),r[14]=t+p,e.set(a,r)}},{NAME:r,NS:i,EXTENDS:e.ImageColorFilter,ATTRS:{mode:{validator:n.isString,value:o},brightness:{validator:n.isNumber,value:0},contrast:{validator:n.isNumber,value:1},saturation:{validator:n.isNumber,value:1},ui:{value:{fn:e.Slider,cfg:{value:50}}}}});e.ImageAdjustFilter=l},"2.0.0",{requires:["aui-image-color-filter-base","slider"]});
