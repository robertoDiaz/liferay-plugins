YUI.add("aui-image-filter-undo-manager",function(e,t){var n=e.Lang,r="image-filter-undo-manager",i="imageFilterUndoManager",s=e.Component.create({NAME:r,NS:i,EXTENDS:e.Plugin.Base,ATTRS:{level:{validator:e.isNumber,value:50}},prototype:{initializer:function(t){var n=this,r=n.get("host");n._redoStack=[],n._undoStack=[],n._eventHandles=[r.on("imageFilter:clear",n._onFilterClear,n),r.on("imageFilter:preview",n._onFilterPreview,n),r.on("imageFilter:reset",n._onFilterReset,n),r.on("imageFilter:save",n._onFilterSave,n)],r.redo=e.bind(n._redo,n),r.undo=e.bind(n._undo,n)},destructor:function(){var t=this;(new e.EventHandle(t._eventHandles)).detach()},_redo:function(){var e=this,t=e.get("host"),n;e._redoStack.length&&(n=e._redoStack.pop(),e._undoStack.push(t.getImage()),t.putImage(n))},_undo:function(){var e=this,t=e.get("host"),n;e._undoStack.length&&(n=e._undoStack.pop(),e._redoStack.push(t.getImage()),t.putImage(n))},_onFilterClear:function(e){var t=this},_onFilterPreview:function(e){var t=this},_onFilterReset:function(e){var t=this},_onFilterSave:function(e){var t=this;t._undoStack.push(e.prevVal),t._redoStack.length=0}}});e.ImageFilterUndoManager=s},"2.0.0",{requires:["plugin","aui-component"]});
