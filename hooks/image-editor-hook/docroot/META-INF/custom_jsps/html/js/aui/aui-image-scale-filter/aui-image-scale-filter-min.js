YUI.add("aui-image-scale-filter",function(e,t){var n=e.Lang,r="image-scale-filter",i="scale",s=e.Component.create({NAME:r,NS:i,EXTENDS:e.ImageFilter,ATTRS:{scaleX:{validator:n.isNumber,value:1},scaleY:{validator:n.isNumber,value:1},swfCfg:{readonly:!0,value:{processFn:"scaleMatrixFilter",params:["scaleX","scaleY"]}}},prototype:{FILTER_NS:i,EDITOR_TEMPLATE:'<div class="editor"><button id="scaleX">FlipH</button><button id="scaleY">FlipV</button></div>',initializer:function(t){var n=this;n._bufferCanvas=e.config.doc.createElement("canvas"),n._scaleCanvas=e.config.doc.createElement("canvas")},process:function(e,t){var n=this,r=n._bufferCanvas,i=r.getContext("2d"),s=n._scaleCanvas,o=s.getContext("2d"),u=n.get("scaleX")||1,a=n.get("scaleY")||1;r.setAttribute("width",e.width),r.setAttribute("height",e.height),i.putImageData(e,0,0),s.setAttribute("width",e.width),s.setAttribute("height",e.height),o.scale(u,a),o.drawImage(r,-(1-u)/2*e.width,-(1-a)/2*e.height),e.data.set(o.getImageData(0,0,e.width,e.height).data)},_bindEditorUI:function(e,t){var n=this;e.delegate("click",function(e){var r=e.currentTarget,i=r.attr("id");n.set(i,-1),t.preview(n.FILTER_NS)},"button")}}});e.ImageScaleFilter=s},"2.0.0",{requires:["aui-image-filter"]});
