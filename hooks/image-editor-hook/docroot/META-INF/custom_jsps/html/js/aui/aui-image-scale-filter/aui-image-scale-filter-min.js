YUI.add("aui-image-scale-filter",function(e,t){var n=e.Lang,r="image-scale-filter",i="canvas",s="height",o="scaleX",u="scaleY",a="width",f="2d",l=e.Base.create(r,e.ImageFilterBase,[],{initializer:function(){var t=this;t._bufferCanvas=e.config.doc.createElement(i),t._scaleCanvas=e.config.doc.createElement(i)},process:function(e,t){var n=this,r,i,l,c,h,p,d,v,m;p=n.get(o),d=n.get(u),t&&(t.scaleX&&(p=t.scaleX),t.scaleY&&(d=t.scaleY)),r=e.bitmapData,v=r.width,m=r.height,i=n._bufferCanvas,l=i.getContext(f),c=n._scaleCanvas,h=c.getContext(f),i.setAttribute(a,v),i.setAttribute(s,m),l.putImageData(r,0,0),c.setAttribute(a,v),c.setAttribute(s,m),h.scale(p,d),h.drawImage(i,-(1-p)/2*v,-(1-d)/2*m),r.data.set(h.getImageData(0,0,v,m).data)}},{NAME:r,ATTRS:{scaleX:{validator:n.isNumber,value:1},scaleY:{validator:n.isNumber,value:1},swfCfg:{readonly:!0,value:{processFn:"scaleMatrixFilter",params:[o,u]}}}});e.ImageScaleFilter=l},"2.0.0",{requires:["aui-image-filter"]});
